<!DOCTYPE html>
<html lang="ko">
<head>
<title>ìœ ì—°ê·¼ë¬´ ì‹ ì²­ ë©”ì¸</title>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

<script type="text/javascript" src="../js/jquery-3.7.1.js"></script>
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript" src="../js/lib/gridjs.umd.js"></script>
<script type="text/javascript" src="../js/lib/chart.js"></script>
<script type="text/javascript" src="../js/lib/bootstrap-datepicker.min.js"></script>
<script type="text/javascript" src="../js/lib/bootstrap-datepicker.ko.min.js"></script>
<script type="text/javascript" src="../js/lib/select2.min.js"></script>

<link type="text/css" rel="stylesheet" href="../css/common.css" />
<link type="text/css" rel="stylesheet" href="../css/mermaid.min.css" />
<link type="text/css" rel="stylesheet" href="../css/bootstrap-datepicker3.css" />
<link type="text/css" rel="stylesheet" href="../css/select2.min.css" />
<link type="text/css" rel="stylesheet" href="../css/style.css" />
<script type="text/javascript">
//<![CDATA[
/* Publishing-Div current page scripts... */

jQuery(function() {
	var $ = jQuery;

    $('.input-daterange').datepicker({
        format: "yyyy.mm.dd",
        //calendarWeeks: true,
        language: "ko",
        forceParse: false,
        autoclose: true,
        todayHighlight: true,
        orientation: 'bottom',
        widgetPositioning: { horizontal: 'auto', vertical: 'auto' }
    });
    
    $(document).ready(function() {
        
        // ì‹ ì²­ë‚´ì—­ ê·¸ë¦¬ë“œ
        const sampleData = [
            ["ê¸°ì•ˆ", "ì‹ ê·œ", "ê·¼ë¬´ì‹œê°„ ì„ íƒí˜•", "Type1(30ë¶„ ì¶”ê°€ê·¼ë¬´)", "2025.10.13", "2025.10.13", "ì›” 09:00~18:00, í™”ìˆ˜ 09:00~18:00", "í™ê¸¸ë™", "2025.10.13", "ê¹€íŒ€ì¥", "2025.10.13"],
            ["ì €ì¥", "ì·¨ì†Œ", "ê·¼ë¬´ì‹œê°„ ì„ íƒí˜•", "Type1(30ë¶„ ì¶”ê°€ê·¼ë¬´)", "2025.10.13", "2025.10.13", "ì›” 09:00~18:00, í™”ìˆ˜ 09:00~18:00", "í™ê¸¸ë™", "2025.10.13", "ê¹€íŒ€ì¥", "2025.10.13"],
            ["ê²°ì¬", "ì·¨ì†Œ", "ê·¼ë¬´ì‹œê°„ ì„ íƒí˜•", "Type1(30ë¶„ ì¶”ê°€ê·¼ë¬´)", "2025.10.13", "2025.10.13", "ì›” 09:00~18:00, í™”ìˆ˜ 09:00~18:00", "í™ê¸¸ë™", "2025.10.13", "ê¹€íŒ€ì¥", "2025.10.13"],
            ["ë°˜ë ¤", "ì‹ ê·œ", "ê·¼ë¬´ì‹œê°„ ì„ íƒí˜•", "Type1(30ë¶„ ì¶”ê°€ê·¼ë¬´)", "2025.10.13", "2025.10.13", "ì›” 09:00~18:00, í™”ìˆ˜ 09:00~18:00", "í™ê¸¸ë™", "2025.10.13", "ê¹€íŒ€ì¥", "2025.10.13"],
            ["ì™„ë£Œ", "ì‹ ê·œ", "ê·¼ë¬´ì‹œê°„ ì„ íƒí˜•", "Type1(30ë¶„ ì¶”ê°€ê·¼ë¬´)", "2025.10.13", "2025.10.13", "ì›” 09:00~18:00, í™”ìˆ˜ 09:00~18:00", "í™ê¸¸ë™", "2025.10.13", "ê¹€íŒ€ì¥", "2025.10.13"],
        ];

        // ìƒíƒœ â†’ ë¼ë²¨ HTML
        function renderStatusLabel(status) {
            const map = {
                "ê¸°ì•ˆ": "status-draft",
                "ê²°ì¬": "status-approved",
                "ë°˜ë ¤": "status-rejected",                
                "ì €ì¥": "status-saved",
                "ì™„ë£Œ": "status-completed",
            };
            const cls = map[status] || "status-draft";
            return gridjs.html(`<span class="status-label ${cls}">${status}</span>`);
        }

        // ì²¨ë¶€íŒŒì¼ ì•„ì´ì½˜
        function renderFileIcon(hasFile) {
            return hasFile ? gridjs.html(`<span class="file-icon">ğŸ“</span>`) : "";
        }

        // ê·¼íƒœìœ í˜• â†’ ìƒì„¸í˜ì´ì§€ ë§í¬
        function renderDetailLink(cell, rowIndex) {
            const detailUrl = `/attendance-detail.html?id=${rowIndex + 1}`;
            return gridjs.html(`<a href="${detailUrl}" class="detail-link">${cell}</a>`);
        }

        // ëª¨ë“  ì…€ì— div ë˜í•‘
        function wrapInDiv(cell) {
            const content = cell !== null && cell !== undefined ? cell.toString() : '';
            return gridjs.html(`<div class="cell-wrapper">${content}</div>`);
        }

        // Grid.js ì´ˆê¸°í™”
        new gridjs.Grid({
            columns: [
                {
                    name: "ìƒíƒœ",
                    formatter: (cell) => renderStatusLabel(cell),
                    width: "80px",
                    attributes: {
                        class: "status-cell"
                    }
                },
                {
                    name: "êµ¬ë¶„",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ê·¼ë¬´ìœ í˜•",
                    formatter: (cell) => wrapInDiv(cell)
                    //formatter: (cell, row, index) => renderDetailLink(cell, index),
                    //attributes: {
                    //    style: "text-align: left;"
                    //}
                },
                {
                    name: "ì„¸ë¶€ìœ í˜•",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ì‹œì‘ì¼",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ì¢…ë£Œì¼",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ê·¼ë¬´ì‹œê°„",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ì‹ ì²­ì",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ì‹ ì²­ì¼",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ê²°ì¬ì",
                    formatter: (cell) => wrapInDiv(cell)
                },
                {
                    name: "ê²°ì¬ì¼",
                    formatter: (cell) => wrapInDiv(cell)
                }
            ],
            data: sampleData,
            //search: {
            //    enabled: true
            //},
            sort: true,
            //pagination: {
                //enabled: true,
                //limit: 5,
                //summary: true
            //},
            resizable: true,
            autoWidth: true,
            
            language: {
            noRecordsFound: "ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.",   // ë°ì´í„° ì—†ì„ ë•Œ í‘œì‹œ ë¬¸êµ¬
            },
            className: {
                table: 'my-custom-table',
                thead: 'my-thead',
                tbody: 'my-tbody',
                container: 'my-grid-wrap'
            }
        }).render(document.getElementById("attendanceGrid"));


        // ê³µí†µ ì…€ ë˜í¼ í•¨ìˆ˜
        function wrapCell(content) {
            return gridjs.html(`<div class="cell-wrapper">${content ?? ""}</div>`);
        }

    });
});

</script>
</head>
<body>
<div class="content-page">
    <div class="page-header">
        <h2 class="">ìœ ì—°ê·¼ë¬´ ì‹ ì²­</h2>
        <div class="breadcrumbs">
            <ul>
                <li class="first">í™ˆ</li>
                <li>ESS</li>
                <li>ê·¼ë¬´/ê·¼íƒœ</li>
                <li class="current">ìœ ì—°ê·¼ë¬´ ì‹ ì²­</li>
            </ul>
        </div>
    </div>
    <div class="page-layout grid">
        <div class="box">
            <div class="header">
                <div class="title">
                    <h3>ìœ ì—°ê·¼ë¬´ì œ</h3>
                    <span class="unit">ê·¼ë¬´ì‹œê°„ ì„ íƒí˜• Type 1 - 30ë¶„ ì¶”ê°€ê·¼ë¬´í˜•</span>
                </div>
            </div>
            <div class="body">
                <div class="body-wrap">
                    <div class="grid flexiblework-summary">
                        <span class="item head">ìš”ì¼</span>
                        <span class="week">
                            <em>ì›”</em>
                        </span>
                        <span class="week">
                            <em>í™”</em>
                        </span>
                        <span class="week">
                            <em>ìˆ˜</em>
                        </span>
                        <span class="week">
                            <em>ëª©</em>
                        </span>
                        <span class="week">
                            <em>ê¸ˆ</em>
                        </span>

                        <span class="item head">ê·¼ë¬´ìœ í˜•</span>
                        <span class="item">ìœ ì—°ê·¼ë¬´</span>
                        <span class="item">ìœ ì—°ê·¼ë¬´</span>
                        <span class="item">ìœ ì—°ê·¼ë¬´</span>
                        <span class="item">ìœ ì—°ê·¼ë¬´</span>
                        <span class="item">ìœ ì—°ê·¼ë¬´</span>

                        <span class="item head">ê·¼ë¬´ì‹œê°„</span>
                        <span class="item">08:30~18:00</span>
                        <span class="item">08:30~18:00</span>
                        <span class="item">08:30~18:00</span>
                        <span class="item">08:30~18:00</span>
                        <span class="item">08:30~18:00</span>

                        <span class="item head">ì‹œê°„</span>
                        <span class="time">8.5</span>
                        <span class="time">8.5</span>
                        <span class="time">8.5</span>
                        <span class="time">8.5</span>
                        <span class="time">6.5</span>                        
                    </div>
                    
                </div>
            </div>
        </div>

        <div class="box">
            <div class="header">
                <div class="title">
                    <h3>ì£¼ê°„ ìœ ì—°ê·¼ë¬´ í˜„í™©</h3>
                    <span class="unit">ê°„ì£¼ê·¼ë¡œ ì‹ ì²­í•„ìš”</span>
                </div>
                <span class="unit">
                    <div class="input-daterange input-group datepicker-wrap" id="">
                        <input type="text" class="input-sm form-control" name="" value="2025.12.25" readonly />
                    </div>
                </span>
            </div>
            <div class="body-wrap">
                <div class="grid flexiblework-summary type2">
                    <span class="item head">ì¼ì</span>
                    <span class="item">
                        <em>9/29(ì›”)</em>
                    </span>
                    <span class="item">
                        <em>9/30(í™”)</em>
                    </span>
                    <span class="item">
                        <em>10/01(ìˆ˜)</em>
                    </span>
                    <span class="item">
                        <em>10/02(ëª©)</em>
                    </span>
                    <span class="item color-red">
                        <em>10/03(ê¸ˆ)</em>
                    </span>
                    <span class="item bold">
                        <em>í•©ê³„</em>
                    </span>

                    <span class="item head">ê·¼ë¬´ìœ í˜•</span>
                    <span class="item">ìœ ì—°ê·¼ë¬´</span>
                    <span class="item">ìœ ì—°ê·¼ë¬´</span>
                    <span class="item">ìœ ì—°ê·¼ë¬´</span>
                    <span class="item color-blue">ê°„ì£¼ê·¼ë¡œ</span>
                    <span class="item color-red">ê°œì²œì ˆ</span>
                    <span class="item"></span>

                    <span class="item head">ê·¼ë¬´ì‹œê°„</span>
                    <span class="item">08:30~18:00</span>
                    <span class="item">08:30~18:00</span>
                    <span class="item">08:30~18:00</span>
                    <span class="item">08:30~18:00</span>
                    <span class="item color-red">OFF</span>
                    <span class="item bold">OFF</span>

                    <span class="item head">ì‹œê°„</span>
                    <span class="item time">8.5</span>
                    <span class="item time">8.5</span>
                    <span class="item time">8.5</span>
                    <span class="item time">8.5</span>
                    <span class="item time color-red">8.0</span>
                    <span class="item time color-red bold">42.0</span>
                </div>
            </div>
        </div>

        <div class="box" style="grid-column: span 2; ">
            <div class="body">
                <div class="form-wrap">
                    <div class="form-grid-search">
                        <div class="form">
                            <span class="label">ì‹ ì²­ì¼</span>
                            <span>
                                <div class="input-daterange input-group datepicker-wrap" id="">
                                    <input type="text" class="input-sm form-control" name="" />
                                    <span class="input-group-addon">~</span>
                                    <input type="text" class="input-sm form-control" name="" />
                                </div>
                            </span>
                            <span class="label">íœ´ë¬´ìœ í˜•</span> 
                            <span>
                                <div class="form-group select-custom">
                                    <select id="" class="fn-select js-basic-single">
                                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                        <option value="seoul">ì„œìš¸</option>
                                        <option value="busan">ë¶€ì‚°</option>
                                        <option value="incheon">ì¸ì²œ</option>
                                        <option value="daegu">ëŒ€êµ¬</option>
                                        <option value="daejeon">ëŒ€ì „</option>
                                        <option value="gwangju">ê´‘ì£¼</option>
                                        <option value="ulsan">ìš¸ì‚°</option>
                                        <option value="sejong">ì„¸ì¢…</option>
                                    </select>
                                </div>
                            </span>
                            <span class="label">ê²°ì¬ìƒíƒœ</span>
                            <span>
                                <div class="form-group select-custom">
                                    <select id="" class="fn-select js-basic-single">
                                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                        <option value="seoul">ì„œìš¸</option>
                                        <option value="busan">ë¶€ì‚°</option>
                                        <option value="incheon">ì¸ì²œ</option>
                                        <option value="daegu">ëŒ€êµ¬</option>
                                        <option value="daejeon">ëŒ€ì „</option>
                                        <option value="gwangju">ê´‘ì£¼</option>
                                        <option value="ulsan">ìš¸ì‚°</option>
                                        <option value="sejong">ì„¸ì¢…</option>
                                    </select>
                                </div>
                            </span>
                        </div>
                    </div>
                    <button type="button" class="btn icon-btn search">
                        <span>ì¡°íšŒ</span>
                    </button>
                </div>
                
            </div>
        </div>

        <div class="box type1" style="grid-column: span 2; ">
            <div class="header">
                <h3>ì‹ ì²­ë‚´ì—­<span>total 13ê±´</span></h3>
                <div class="btn-wrap">
                    <button type="button" class="btn btn-primary">ì‹ ê·œì‹ ì²­</button>
                    <button type="button" class="btn btn-primary">ë¶„í• ì‹ ì²­</button>
                    <button type="button" class="btn btn-primary">ë³€ê²½ì‹ ì²­</button>
                    <button type="button" class="btn btn-primary">ì¢…ë£Œì‹ ì²­</button>
                    <button type="button" class="btn btn-primary">ê°„ì£¼ê·¼ë¡œì‹ ì²­</button>
                </div>
            </div>
            <div class="body">

                <div id="attendanceGrid" class="grid-wrap"></div>
                
            </div>
        </div>

    </div>
</div>

</body>
<script>
    $(document).ready(function() {
        // 1. ê¸°ë³¸ Select2
        $('.fn-select').select2({
            placeholder: 'ì„ íƒí•˜ì„¸ìš”',
            allowClear: true
        });
        
        // ì„ íƒ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        $('.js-basic-single, .js-grouped, .js-no-search').on('change', function() {
            console.log('ì„ íƒëœ ê°’:', $(this).val());
        });
        
        $('.js-multiple, .js-tags').on('change', function() {
            console.log('ì„ íƒëœ ê°’ë“¤:', $(this).val());
        });
    });
    
    // ë‹¨ì¼ ì„ íƒê°’ ì¡°íšŒ
    function getValue(selectId) {
        const value = $('#' + selectId).val();
        const text = $('#' + selectId + ' option:selected').text();
        const resultBox = $('#result' + selectId.replace('select', ''));
        
        if (value) {
            resultBox.html(
                '<h4>âœ… ì„ íƒëœ ê°’:</h4>' +
                '<p><strong>Value:</strong> ' + value + '</p>' +
                '<p><strong>Text:</strong> ' + text + '</p>'
            );
            resultBox.addClass('show');
        } else {
            alert('ì„ íƒëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.');
            resultBox.removeClass('show');
        }
    }

    // Select ì´ˆê¸°í™”
    function resetSelect(selectId) {
        $('#' + selectId).val(null).trigger('change');
        $('#result' + selectId.replace('select', '')).removeClass('show');
        alert('ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    
    // í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ê°’ ì„¤ì •
    function setValueProgrammatically(selectId, value) {
        $('#' + selectId).val(value).trigger('change');
        alert('ê°’ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤: ' + value);
    }
</script>
</html>