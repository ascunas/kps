<!DOCTYPE html>
<html lang="ko">
<head>
<title>유연근무제 신청</title>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

<script type="text/javascript" src="../js/jquery-3.7.1.js"></script>
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript" src="../js/lib/gridjs.umd.js"></script>
<script type="text/javascript" src="../js/lib/chart.js"></script>
<script type="text/javascript" src="../js/lib/bootstrap-datepicker.min.js"></script>
<script type="text/javascript" src="../js/lib/bootstrap-datepicker.ko.min.js"></script>
<script type="text/javascript" src="../js/lib/select2.min.js"></script>

<link type="text/css" rel="stylesheet" href="../css/common.css" />
<link type="text/css" rel="stylesheet" href="../css/mermaid.min.css" />
<link type="text/css" rel="stylesheet" href="../css/bootstrap-datepicker3.css" />
<link type="text/css" rel="stylesheet" href="../css/select2.min.css" />
<link type="text/css" rel="stylesheet" href="../css/style.css" />
<script type="text/javascript">
    jQuery(function() {
        var $ = jQuery;

        $('.input-daterange').datepicker({
            format: "yyyy.mm.dd",
            language: "ko",
            forceParse: false,
            autoclose: true,
            todayHighlight: true,
            orientation: 'bottom',
            widgetPositioning: { horizontal: 'auto', vertical: 'auto' }
        });

        

    });
</script>
</head>
<body>
<div class="content-page">
    <div class="page-header">
        <h2 class="">유연근무제 신규신청</h2>
        <div class="breadcrumbs">
            <ul>
                <li class="first">홈</li>
                <li>ESS</li>
                <li>근무/근태</li>
                <li class="current">유연근무제 신청</li>
            </ul>
        </div>
    </div>
    <div class="page-layout">

        <div class="box type1">
            <div class="header">
                <h3>신청내역</h3>
                <div class="util-btn-wrap">
                    <button type="button" class="btn icon-btn add open-modal-btn" data-target="modal1">신규신청</button>
                    <button type="button" class="btn icon-btn modify open-modal-btn" data-target="modal2">변경신청</button>
                    <button type="button" class="btn icon-btn cancel open-modal-btn" data-target="modal3">취소신청</button>
                    <button type="button" class="btn icon-btn remove fn-row-remove">삭제</button>
                </div>
            </div>
            <div class="body">
                <div class="form-table type1">
                    <table>
                        <colgroup>
                            <col style="width: 17%; ">
                            <col style="width: auto; ">
                        </colgroup>							
                        <tbody>
                            <tr>
                                <th scope="row">대상자</th>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="" disabled="disabled">
                                    <span>정보시스템부</span>
                                </td>
                                <th scope="row">신청번호</th>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="" disabled="disabled">
                                    <input type="text" name="" placeholder="" value="" class="time" disabled="disabled">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">조회기간</th>
                                <td>
                                    <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                        <input type="text" class="input-sm form-control" name="start" />
                                        <span class="input-group-addon">~</span>
                                        <input type="text" class="input-sm form-control" name="end" />
                                    </div>
                                </td>
                                <th scope="row">신청근무일수/주간육아시간</th>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="" disabled="disabled">
                                    <span>/</span>
                                    <input type="text" name="" placeholder="" value="" class="" disabled="disabled">
                                </td>
                            </tr>                            
                            <tr>
                                <th scope="row">근무유형/세부유형</th>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">육아시간제</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single" disabled="disabled">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">육아시간제</option>
                                        </select>
                                    </div>
                                </td>
                                <th scope="row">신청사유</th>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="box type1">
            <div class="header">
                <h3>신청내역</h3>
                <div class="util-btn-wrap">
                    <button type="button" class="btn icon-btn add open-modal-btn" data-target="modal1">신규신청</button>
                    <button type="button" class="btn icon-btn modify open-modal-btn" data-target="modal2">변경신청</button>
                    <button type="button" class="btn icon-btn cancel open-modal-btn" data-target="modal3">취소신청</button>
                    <button type="button" class="btn icon-btn remove fn-row-remove">삭제</button>
                </div>
            </div>
            <div class="body">
                <div id="workGrid" class="grid-wrap"></div>
            </div>
        </div>

        <div class="box type1">
            <div class="header">
                <h3>유연근무 내역</h3>
            </div>
            <div class="body">
                <div class="grid-table type1">
                    <table>
                        <colgroup>
                            <col style="width: 6%; ">
                            <col style="width: auto; ">
                        </colgroup>							
                        <thead>
                            <th scope="col">요일</th>
                            <th scope="col">근무구분</th>
                            <th scope="col">시작시간</th>
                            <th scope="col">종료시간</th>
                            <th scope="col">육아시간</th>
                            <th scope="col">시작시간</th>
                            <th scope="col">종료시간</th>
                            <th scope="col">육아시간</th>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">월</th>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single" disabled="disabled">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">통상근무</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time" disabled="disabled">
                                            <option value="seoul">09</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time" disabled="disabled">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time" disabled="disabled">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time" disabled="disabled">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" disabled="disabled">
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time color-blue" disabled="disabled">
                                            <option value="seoul">11</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time color-red" disabled="disabled">
                                            <option value="seoul">11</option>
                                        </select>
                                    </div>
                                </td>                                
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time" disabled="disabled">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time" disabled="disabled">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" disabled="disabled">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">화</th>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">통상근무</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">09</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" readonly="readonly">
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>                                
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" disabled="readonly">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">수</th>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">통상근무</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">09</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" readonly="readonly">
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>                                
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" disabled="readonly">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">목</th>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">통상근무</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">09</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" readonly="readonly">
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>                                
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" disabled="readonly">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">금</th>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single">
                                            <option value="">선택하세요</option>
                                            <option value="seoul">통상근무</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">09</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" readonly="readonly">
                                </td>
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>                                
                                <td>
                                    <div class="form-group select-custom">
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">10</option>
                                        </select>
                                        <select id="" class="fn-select js-basic-single time">
                                            <option value="seoul">00</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100" disabled="readonly">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="box type1">
            <div class="header">
                <h3>결재라인</h3>
                <div class="util-btn-wrap">
                    <button type="button" class="btn icon-btn approval">결재선 지정</button>
                </div>
            </div>
            <div class="body">
                <div id="approvalGrid" class="grid-wrap"></div>
            </div>
        </div>

    </div>
    
    <div class="page-footer">
        <button class="btn btn-primary close-btn">결재요청</button>
        <button class="btn btn-normal close-btn">이전</button>
    </div>
</div>

<!-- 신규신청 모달팝업 -->
<div class="modal " id="modal1">
    <div class="modal-content" style="width: 880px;">
        <div class="modal-header">
            <h2>신규신청</h2>
        </div>
        <div class="modal-body">

            <div class="form-table type1">
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">근태 유형</th>
                            <td colspan="3">
                                <div class="form-group select-custom w100">
                                    <select id="" class="fn-select js-basic-single">
                                        <option value="">선택하세요</option>
                                        <option value="seoul">서울</option>
                                        <option value="busan">부산</option>
                                        <option value="incheon">인천</option>
                                        <option value="daegu">대구</option>
                                        <option value="daejeon">대전</option>
                                        <option value="gwangju">광주</option>
                                        <option value="ulsan">울산</option>
                                        <option value="sejong">세종</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">잔여 쿼터</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="day center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                            <th scope="row">근태 사유</th>
                            <td>
                                <div class="form-group">
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="일근태"><span>일근태</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="시간근태" checked><span>시간근태</span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">근태 기간</th>
                            <td colspan="3">
                                <div class="form-wrap">
                                    <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                        <input type="text" class="input-sm form-control" name="start" />
                                        <span class="input-group-addon">~</span>
                                        <input type="text" class="input-sm form-control" name="end" />
                                    </div>
                                    <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                        
                                    </div>
                                     <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                        
                                    </div>
                                     <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>                                        
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">일 / 시간</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="time center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">첨부파일</th>
                            <td colspan="3">
                                <div class="form-group attach-wrap">
                                    <div class="attach-list">
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />1234.pdf</label>
                                        </span>
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />abcdef.jpg</label>
                                        </span>
                                    </div>
                                    <div class="util-btn">
                                        <button type="button" class="btn icon-btn add fn-add">추가</button>
                                        <button type="button" class="btn icon-btn remove fn-remove">삭제</button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">근태 사유</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary close-btn fn-modal-close">저장</button>
            <button class="btn btn-normal close-btn fn-modal-close">닫기</button>
        </div>
    </div>
</div>

<!-- 변경신청 모달팝업 -->
<div class="modal " id="modal2">
    <div class="modal-content" style="width: 880px;">
        <div class="modal-header">
            <h2>변경신청</h2>
        </div>
        <div class="modal-body">
            <div class="form-table type1">
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">대상자</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">조회기간</th>
                            <td colspan="3">
                                <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                    <input type="text" class="input-sm form-control" name="start" />
                                    <span class="input-group-addon">~</span>
                                    <input type="text" class="input-sm form-control" name="end" />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-table type1">
                <div class="ttl">변경 전 근태</div>
                <div id="workGrid2" class="grid-wrap"></div>
            </div>

            <div class="form-table type1">
                <div class="ttl">변경 후 근태</div>
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">근태 유형</th>
                            <td colspan="3">
                                <div class="form-group select-custom w100">
                                    <select id="" class="fn-select js-basic-single">
                                        <option value="">선택하세요</option>
                                        <option value="seoul">서울</option>
                                        <option value="busan">부산</option>
                                        <option value="incheon">인천</option>
                                        <option value="daegu">대구</option>
                                        <option value="daejeon">대전</option>
                                        <option value="gwangju">광주</option>
                                        <option value="ulsan">울산</option>
                                        <option value="sejong">세종</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">잔여 쿼터</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="day center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                            <th scope="row">근태 사유</th>
                            <td>
                                <div class="form-group">
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="일근태"><span>일근태</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="시간근태" checked><span>시간근태</span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">근태 기간</th>
                            <td colspan="3">
                                <div class="form-wrap">
                                    <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                        <input type="text" class="input-sm form-control" name="start" />
                                        <span class="input-group-addon">~</span>
                                        <input type="text" class="input-sm form-control" name="end" />
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">선택하세요</option>
                                                <option value="seoul">서울</option>
                                                <option value="busan">부산</option>
                                                <option value="incheon">인천</option>
                                                <option value="daegu">대구</option>
                                                <option value="daejeon">대전</option>
                                                <option value="gwangju">광주</option>
                                                <option value="ulsan">울산</option>
                                                <option value="sejong">세종</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">일 / 시간</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="time center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">첨부파일</th>
                            <td colspan="3">
                                <div class="form-group attach-wrap">
                                    <div class="attach-list">
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />1234.pdf</label>
                                        </span>
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />abcdef.jpg</label>
                                        </span>
                                    </div>
                                    <div class="util-btn">
                                        <button type="button" class="btn icon-btn add fn-add">추가</button>
                                        <button type="button" class="btn icon-btn remove fn-remove">삭제</button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">근태 사유</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary close-btn fn-modal-close">저장</button>
            <button class="btn btn-normal close-btn fn-modal-close">닫기</button>
        </div>
    </div>
</div>

<!-- 취소신청 모달팝업 -->
<div class="modal " id="modal3">
    <div class="modal-content" style="width: 880px;">
        <div class="modal-header">
            <h2>취소신청</h2>
        </div>
        <div class="modal-body">
            <div class="form-table type1">
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">대상자</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">조회기간</th>
                            <td colspan="3">
                                <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                    <input type="text" class="input-sm form-control" name="start" />
                                    <span class="input-group-addon">~</span>
                                    <input type="text" class="input-sm form-control" name="end" />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-table type1">
                <div class="ttl">변경 전 근태</div>
                <div id="cancelGrid" class="grid-wrap"></div>
            </div>            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary close-btn fn-modal-close">저장</button>
            <button class="btn btn-normal close-btn fn-modal-close">닫기</button>
        </div>
    </div>
</div>
<script>
  $(document).ready(function () {

    /** -------------------------
     *  공통 함수
     * ------------------------- */
    function wrapCell(content) {
        return gridjs.html(`<div class="cell-wrapper">${content ?? ""}</div>`);
    }
    function renderCheckbox() {
        return wrapCell('<input type="checkbox" class="row-check" />');
    }
    function renderDetailLink(cell, index) {
        const detailUrl = `/attendance-detail.html?id=${index + 1}`;
        return wrapCell(`<a href="${detailUrl}" class="detail-link" target="_blank">${cell}</a>`);
    }
    function renderFileIcon(hasFile) {
        return wrapCell(hasFile ? '<span class="file-icon">📎</span>' : "");
    }
    // 공통 체크박스 formatter
    function renderCheckbox(rowIndex = 0, checkedIndex = null, group = "default") {
    const checkedAttr = checkedIndex === rowIndex ? "checked" : "";
    return gridjs.html(`
        <div class="cell-wrapper">
        <input type="checkbox" class="row-check custom-check" data-group="${group}" ${checkedAttr} />
        </div>
    `);
    }

    /** -------------------------
     *  신청내역 Grid
     * ------------------------- */
    let workGridData = [
        ["", "신규", "연차", "2025.10.13", "2025.10.13", "14:00", "14:00", "16시간", false, "개인사정"],
        ["", "변경후", "연차(오후)", "2025.10.13", "2025.10.13", "14:00", "18:00", "4시간", true, "개인사정"],
        ["", "변경전", "연차(오전)", "2025.10.13", "2025.10.13", "09:00", "14:00", "4시간", false, "개인사정"],
        ["", "취소", "경조휴가(본인/배우자 외조부모상)", "2025.10.13", "2025.10.15", "14:00", "14:00", "3일", true, "개인사정"]
    ];

    const workGrid = new gridjs.Grid({
      columns: [
        {
          id: "select",
          name: gridjs.html('<input type="checkbox" id="checkAll" class="custom-check" />'),
          formatter: renderCheckbox,
          sort: false,
          width: "50px"
        },
        { name: "구분", formatter: (cell) => wrapCell(cell) },
        { name: "근태유형", formatter: (cell, row, index) => renderDetailLink(cell, index), attributes: { style: "text-align: left; width:300px;" } },
        { name: "시작일", formatter: wrapCell },
        { name: "종료일", formatter: wrapCell },
        { name: "시작시간", formatter: wrapCell },
        { name: "종료시간", formatter: wrapCell },
        { name: "일/시간", formatter: wrapCell },
        { name: "첨부파일", formatter: (cell) => renderFileIcon(cell) },
        { name: "근태사유", formatter: wrapCell }
        ],
        data: workGridData,
        sort: false,
        search: false,
        pagination: false,
    }).render(document.getElementById("workGrid"));

    // 체크박스 토글
    $(document).on("change", "#checkAll", function () {
        $(".row-check").prop("checked", $(this).prop("checked"));
    });
    $(document).on("change", ".row-check", function () {
        const total = $(".row-check").length;
        const checked = $(".row-check:checked").length;
        $("#checkAll").prop("checked", total > 0 && total === checked);
    });

    /** -------------------------
     *  결재라인 Grid
     * ------------------------- */
    let approvalData = [
        ["1", "002569", "홍길동", "과장", "정보시스템부"],
        ["2", "002569", "홍길동", "차장", "정보시스템부"],
        ["3", "002569", "홍길동", "팀장", "정보시스템부"]
    ];

    new gridjs.Grid({
      columns: [
        { name: "No.", sort: false, formatter: (cell) => wrapCell(cell), width: "60px" },
        { name: "사번", sort: false, formatter: (cell) => wrapCell(cell) },
        { name: "성명", sort: false, formatter: (cell) => wrapCell(cell) },
        { name: "직위", sort: false, formatter: (cell) => wrapCell(cell) },
        { name: "부서", sort: false, formatter: (cell) => wrapCell(cell) }
        ],
        data: approvalData,
        sort: false,
        search: false,
        pagination: false
    }).render(document.getElementById("approvalGrid"));


    /** -------------------------
   *  공통 wrap 함수
   * ------------------------- */
    function wrapCell(content) {
        return gridjs.html(`<div class="cell-wrapper">${content ?? ""}</div>`);
    }

    /** -------------------------
   *  기본 데이터
   * ------------------------- */
    let modalGridData = [
        ["연차", "2025.10.13", "2025.10.13", "14:00", "14:00", "16시간"],
        ["연차(오후)", "2025.10.13", "2025.10.13", "14:00", "18:00", "4시간"],
        ["연차(오전)", "2025.10.13", "2025.10.13", "09:00", "14:00", "4시간"],
        ["경조휴가(본인/배우자의 조부모 외조부모상)", "2025.10.13", "2025.10.15", "14:00", "14:00", "3일"]
    ];

    // 체크박스 컬럼용 더미 값 추가
    const modalGridDataWithSelect = modalGridData.map(row => ["", ...row]);

    /** -------------------------
     *  모달별 Grid 렌더링
     * ------------------------- */
    $(".open-modal-btn").on("click", function () {
    const target = $(this).data("target");

    // 변경신청 모달 (modal2)
    if (target === "modal2" && !$("#workGrid2").hasClass("grid-initialized")) {
        new gridjs.Grid({
        columns: [
            {
            id: "select",
            name: gridjs.html('<input type="checkbox" id="checkAll2" class="custom-check" />'),
            formatter: (_, row) =>
            gridjs.html(`<div class="cell-wrapper">
                <input type="checkbox" class="row-check2 custom-check" ${row._index === 1 ? "checked" : ""}>
            </div>`),
            sort: false,
            width: "50px"
            },
            { name: "근태유형", formatter: (cell) => wrapCell(cell), attributes: { style: "text-align: left;" } },
            { name: "시작일",   formatter: (cell) => wrapCell(cell) },
            { name: "종료일",   formatter: (cell) => wrapCell(cell) },
            { name: "시작시간", formatter: (cell) => wrapCell(cell) },
            { name: "종료시간", formatter: (cell) => wrapCell(cell) },
            { name: "일/시간",   formatter: (cell) => wrapCell(cell) }
            ],
            data: modalGridDataWithSelect,
            sort: false,
            search: false,
            pagination: false
        }).render(document.getElementById("workGrid2"));
        $("#workGrid2").addClass("grid-initialized");
    }

    // 취소신청 모달 (modal3)
    if (target === "modal3" && !$("#cancelGrid").hasClass("grid-initialized")) {
        new gridjs.Grid({
            columns: [
            {
                id: "select",
                name: gridjs.html('<input type="checkbox" id="checkAll3" class="custom-check" />'),
                formatter: (_, row) =>
                gridjs.html(`<div class="cell-wrapper">
                    <input type="checkbox" class="row-check3 custom-check" ${row._index === 1 ? "checked" : ""}>
                </div>`),
                sort: false,
                width: "50px"
            },
            { name: "근태유형", formatter: (cell) => wrapCell(cell), attributes: { style: "text-align: left;" } },
            { name: "시작일",   formatter: (cell) => wrapCell(cell) },
            { name: "종료일",   formatter: (cell) => wrapCell(cell) },
            { name: "시작시간", formatter: (cell) => wrapCell(cell) },
            { name: "종료시간", formatter: (cell) => wrapCell(cell) },
            { name: "일/시간",   formatter: (cell) => wrapCell(cell) }
            ],
            data: modalGridDataWithSelect,
            sort: false,
            search: false,
            pagination: false
        }).render(document.getElementById("cancelGrid"));
            $("#cancelGrid").addClass("grid-initialized");
        }
    });

    /** -------------------------
     * 공통 전체 체크박스 토글
     * ------------------------- */
    $(document).on("change", "[id^='checkAll']", function () {
        const suffix = this.id.replace("checkAll", "");
        const checked = $(this).prop("checked");
        $(`.row-check${suffix}`).prop("checked", checked);
    });

    $(document).on("change", "[class^='row-check']", function () {
        // 예: row-check3 → 3 추출
        const className = $(this).attr("class").split(" ").find(c => c.startsWith("row-check"));
        const suffix = className.replace("row-check", "");
        const total = $(`.row-check${suffix}`).length;
        const checked = $(`.row-check${suffix}:checked`).length;
        $(`#checkAll${suffix}`).prop("checked", total > 0 && total === checked);
    });

    // ✅ 선택된 행 삭제 (페이드아웃 포함)
    $(document).on("click", ".fn-row-remove", function () {
        const checkedIndexes = [];

        // 체크된 행의 인덱스 수집
        $("#workGrid table tbody tr").each(function (index) {
            if ($(this).find(".row-check").prop("checked")) {
            checkedIndexes.push(index);
            }
        });

        if (checkedIndexes.length === 0) {
            alert("삭제할 항목을 선택하세요.");
            return;
        }

        // 선택된 행에 fade-out 클래스 추가
        $("#workGrid table tbody tr").each(function (index) {
            if (checkedIndexes.includes(index)) {
            $(this).addClass("fade-out");
            }
        });

        // 애니메이션 후 실제 데이터 삭제 및 그리드 갱신
        setTimeout(() => {
            workGridData = workGridData.filter((_, i) => !checkedIndexes.includes(i));
            workGrid.updateConfig({ data: [...workGridData] }).forceRender();
            $("#checkAll").prop("checked", false);
        }, 300);
    });

    // 모달 열릴 때 해당 모달의 그리드 렌더링
    $(document).on("click", ".fn-modal-open", function () {
        const targetId = $(this).data("target");
        renderModalGrid(targetId);
    });

});

$(document).ready(function() {
    // 1. 기본 Select2
    $('.fn-select').select2({
        placeholder: '선택하세요',
        allowClear: true
    });
    
    // 선택 변경 이벤트 리스너
    $('.js-basic-single, .js-grouped, .js-no-search').on('change', function() {
        console.log('선택된 값:', $(this).val());
    });
    
    $('.js-multiple, .js-tags').on('change', function() {
        console.log('선택된 값들:', $(this).val());
    });
});

// 단일 선택값 조회
function getValue(selectId) {
    const value = $('#' + selectId).val();
    const text = $('#' + selectId + ' option:selected').text();
    const resultBox = $('#result' + selectId.replace('select', ''));
    
    if (value) {
        resultBox.html(
            '<h4>✅ 선택된 값:</h4>' +
            '<p><strong>Value:</strong> ' + value + '</p>' +
            '<p><strong>Text:</strong> ' + text + '</p>'
        );
        resultBox.addClass('show');
    } else {
        alert('선택된 항목이 없습니다.');
        resultBox.removeClass('show');
    }
}

// Select 초기화
function resetSelect(selectId) {
    $('#' + selectId).val(null).trigger('change');
    $('#result' + selectId.replace('select', '')).removeClass('show');
    alert('초기화되었습니다.');
}

// 프로그래밍으로 값 설정
function setValueProgrammatically(selectId, value) {
    $('#' + selectId).val(value).trigger('change');
    alert('값이 설정되었습니다: ' + value);
}
</script>

</body>
</html>