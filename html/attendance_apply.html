<!DOCTYPE html>
<html lang="ko">
<head>
<title>Í∑ºÌÉúÏã†Ï≤≠ Ïã†Ï≤≠</title>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

<script type="text/javascript" src="../js/jquery-3.7.1.js"></script>
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript" src="../js/lib/gridjs.umd.js"></script>
<script type="text/javascript" src="../js/lib/chart.js"></script>
<script type="text/javascript" src="../js/lib/bootstrap-datepicker.min.js"></script>
<script type="text/javascript" src="../js/lib/bootstrap-datepicker.ko.min.js"></script>
<script type="text/javascript" src="../js/lib/select2.min.js"></script>

<link type="text/css" rel="stylesheet" href="../css/common.css" />
<link type="text/css" rel="stylesheet" href="../css/mermaid.min.css" />
<link type="text/css" rel="stylesheet" href="../css/bootstrap-datepicker3.css" />
<link type="text/css" rel="stylesheet" href="../css/select2.min.css" />
<link type="text/css" rel="stylesheet" href="../css/style.css" />
<script type="text/javascript">
    jQuery(function() {
        var $ = jQuery;

        $('.input-daterange').datepicker({
            format: "yyyy.mm.dd",
            language: "ko",
            forceParse: false,
            autoclose: true,
            todayHighlight: true,
            orientation: 'bottom',
            widgetPositioning: { horizontal: 'auto', vertical: 'auto' }
        });

        

    });
</script>
</head>
<body>
<div class="content-page">
    <div class="page-header">
        <h2 class="">Í∑ºÌÉúÏã†Ï≤≠ Ïã†Í∑úÎì±Î°ù</h2>
        <div class="breadcrumbs">
            <ul>
                <li class="first">Ìôà</li>
                <li>ESS</li>
                <li>Í∑ºÎ¨¥/Í∑ºÌÉú</li>
                <li class="current">Í∑ºÌÉúÏã†Ï≤≠</li>
            </ul>
        </div>
    </div>
    <div class="page-layout">

        <div class="box type1">
            <div class="header">
                <h3>Ïã†Ï≤≠ÎÇ¥Ïó≠</h3>
                <div class="util-btn-wrap">
                    <button type="button" class="btn icon-btn add open-modal-btn" data-target="modal1">Ïã†Í∑úÏã†Ï≤≠</button>
                    <button type="button" class="btn icon-btn modify open-modal-btn" data-target="modal2">Î≥ÄÍ≤ΩÏã†Ï≤≠</button>
                    <button type="button" class="btn icon-btn cancel open-modal-btn" data-target="modal3">Ï∑®ÏÜåÏã†Ï≤≠</button>
                    <button type="button" class="btn icon-btn remove fn-row-remove">ÏÇ≠Ï†ú</button>
                </div>
            </div>
            <div class="body">
                <div id="workGrid" class="grid-wrap"></div>
            </div>
        </div>

        <div class="box type1">
            <div class="header">
                <h3>Ï∂îÍ∞ÄÏ†ïÎ≥¥</h3>
            </div>
            <div class="body">
                <div class="form-table type1">
                    <table>
                        <colgroup>
                            <col style="width: 17%; ">
                            <col style="width: auto; ">
                        </colgroup>							
                        <tbody>
                            <tr>
                                <th scope="row">Í∏∞ÏïàÏûê ÏùòÍ≤¨</th>
                                <td>
                                    <input type="text" name="" placeholder="" value="" class="w100">
                                </td>
                            </tr>
                            </tr>
                            <tr>
                                <th scope="row">Ï≤®Î∂ÄÌååÏùº</th>
                                <td colspan="3">
                                    <div class="form-group attach-wrap">
                                        <div class="attach-list">
                                            <span>
                                                <label class="form-label"><input type="checkbox" class="checkbox custom-check" />afdasdfasd.kopp</label>
                                            </span>
                                            <span>
                                                <label class="form-label"><input type="checkbox" class="checkbox custom-check" />afdasdfasd.kopp</label>
                                            </span>
                                        </div>
                                        <div class="util-btn">
                                            <button type="button" class="btn icon-btn add fn-add">Ï∂îÍ∞Ä</button>
                                            <button type="button" class="btn icon-btn remove fn-remove">ÏÇ≠Ï†ú</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="box type1">
            <div class="header">
                <h3>Í≤∞Ïû¨ÎùºÏù∏</h3>
                <div class="util-btn-wrap">
                    <button type="button" class="btn icon-btn approval">Í≤∞Ïû¨ÏÑ† ÏßÄÏ†ï</button>
                </div>
            </div>
            <div class="body">
                <div id="approvalGrid" class="grid-wrap"></div>
            </div>
        </div>

    </div>
    
    <div class="page-footer">
        <button class="btn btn-primary close-btn">Í≤∞Ïû¨ÏöîÏ≤≠</button>
        <button class="btn btn-normal close-btn">Ïù¥Ï†Ñ</button>
    </div>
</div>

<!-- Ïã†Í∑úÏã†Ï≤≠ Î™®Îã¨ÌåùÏóÖ -->
<div class="modal " id="modal1">
    <div class="modal-content" style="width: 880px;">
        <div class="modal-header">
            <h2>Ïã†Í∑úÏã†Ï≤≠</h2>
        </div>
        <div class="modal-body">

            <div class="form-table type1">
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">Í∑ºÌÉú Ïú†Ìòï</th>
                            <td colspan="3">
                                <div class="form-group select-custom w100">
                                    <select id="" class="fn-select js-basic-single">
                                        <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                        <option value="seoul">ÏÑúÏö∏</option>
                                        <option value="busan">Î∂ÄÏÇ∞</option>
                                        <option value="incheon">Ïù∏Ï≤ú</option>
                                        <option value="daegu">ÎåÄÍµ¨</option>
                                        <option value="daejeon">ÎåÄÏ†Ñ</option>
                                        <option value="gwangju">Í¥ëÏ£º</option>
                                        <option value="ulsan">Ïö∏ÏÇ∞</option>
                                        <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">ÏûîÏó¨ ÏøºÌÑ∞</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="day center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                            <th scope="row">Í∑ºÌÉú ÏÇ¨Ïú†</th>
                            <td>
                                <div class="form-group">
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="ÏùºÍ∑ºÌÉú"><span>ÏùºÍ∑ºÌÉú</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="ÏãúÍ∞ÑÍ∑ºÌÉú" checked><span>ÏãúÍ∞ÑÍ∑ºÌÉú</span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Í∑ºÌÉú Í∏∞Í∞Ñ</th>
                            <td colspan="3">
                                <div class="form-wrap">
                                    <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                        <input type="text" class="input-sm form-control" name="start" />
                                        <span class="input-group-addon">~</span>
                                        <input type="text" class="input-sm form-control" name="end" />
                                    </div>
                                    <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                        
                                    </div>
                                     <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                        
                                    </div>
                                     <div class="time">
                                        <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>                                        
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Ïùº / ÏãúÍ∞Ñ</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="time center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Ï≤®Î∂ÄÌååÏùº</th>
                            <td colspan="3">
                                <div class="form-group attach-wrap">
                                    <div class="attach-list">
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />1234.pdf</label>
                                        </span>
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />abcdef.jpg</label>
                                        </span>
                                    </div>
                                    <div class="util-btn">
                                        <button type="button" class="btn icon-btn add fn-add">Ï∂îÍ∞Ä</button>
                                        <button type="button" class="btn icon-btn remove fn-remove">ÏÇ≠Ï†ú</button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Í∑ºÌÉú ÏÇ¨Ïú†</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary close-btn fn-modal-close">Ï†ÄÏû•</button>
            <button class="btn btn-normal close-btn fn-modal-close">Îã´Í∏∞</button>
        </div>
    </div>
</div>

<!-- Î≥ÄÍ≤ΩÏã†Ï≤≠ Î™®Îã¨ÌåùÏóÖ -->
<div class="modal " id="modal2">
    <div class="modal-content" style="width: 880px;">
        <div class="modal-header">
            <h2>Î≥ÄÍ≤ΩÏã†Ï≤≠</h2>
        </div>
        <div class="modal-body">
            <div class="form-table type1">
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">ÎåÄÏÉÅÏûê</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Ï°∞ÌöåÍ∏∞Í∞Ñ</th>
                            <td colspan="3">
                                <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                    <input type="text" class="input-sm form-control" name="start" />
                                    <span class="input-group-addon">~</span>
                                    <input type="text" class="input-sm form-control" name="end" />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-table type1">
                <div class="ttl">Î≥ÄÍ≤Ω Ï†Ñ Í∑ºÌÉú</div>
                <div id="workGrid2" class="grid-wrap"></div>
            </div>

            <div class="form-table type1">
                <div class="ttl">Î≥ÄÍ≤Ω ÌõÑ Í∑ºÌÉú</div>
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">Í∑ºÌÉú Ïú†Ìòï</th>
                            <td colspan="3">
                                <div class="form-group select-custom w100">
                                    <select id="" class="fn-select js-basic-single">
                                        <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                        <option value="seoul">ÏÑúÏö∏</option>
                                        <option value="busan">Î∂ÄÏÇ∞</option>
                                        <option value="incheon">Ïù∏Ï≤ú</option>
                                        <option value="daegu">ÎåÄÍµ¨</option>
                                        <option value="daejeon">ÎåÄÏ†Ñ</option>
                                        <option value="gwangju">Í¥ëÏ£º</option>
                                        <option value="ulsan">Ïö∏ÏÇ∞</option>
                                        <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">ÏûîÏó¨ ÏøºÌÑ∞</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="day center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                            <th scope="row">Í∑ºÌÉú ÏÇ¨Ïú†</th>
                            <td>
                                <div class="form-group">
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="ÏùºÍ∑ºÌÉú"><span>ÏùºÍ∑ºÌÉú</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="workType" class="custom-radio" value="ÏãúÍ∞ÑÍ∑ºÌÉú" checked><span>ÏãúÍ∞ÑÍ∑ºÌÉú</span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Í∑ºÌÉú    Í∏∞Í∞Ñ</th>
                            <td colspan="3">
                                <div class="form-wrap">
                                    <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                        <input type="text" class="input-sm form-control" name="start" />
                                        <span class="input-group-addon">~</span>
                                        <input type="text" class="input-sm form-control" name="end" />
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="combobox combobox-list time">
                                         <div class="form-group select-custom">
                                            <select id="" class="fn-select js-basic-single">
                                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                                <option value="seoul">ÏÑúÏö∏</option>
                                                <option value="busan">Î∂ÄÏÇ∞</option>
                                                <option value="incheon">Ïù∏Ï≤ú</option>
                                                <option value="daegu">ÎåÄÍµ¨</option>
                                                <option value="daejeon">ÎåÄÏ†Ñ</option>
                                                <option value="gwangju">Í¥ëÏ£º</option>
                                                <option value="ulsan">Ïö∏ÏÇ∞</option>
                                                <option value="sejong">ÏÑ∏Ï¢Ö</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Ïùº / ÏãúÍ∞Ñ</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="time center">
                                <input type="text" name="" placeholder="" value="" class="time center">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Ï≤®Î∂ÄÌååÏùº</th>
                            <td colspan="3">
                                <div class="form-group attach-wrap">
                                    <div class="attach-list">
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />1234.pdf</label>
                                        </span>
                                        <span>
                                            <label class="form-label"><input type="checkbox" class="checkbox custom-check" />abcdef.jpg</label>
                                        </span>
                                    </div>
                                    <div class="util-btn">
                                        <button type="button" class="btn icon-btn add fn-add">Ï∂îÍ∞Ä</button>
                                        <button type="button" class="btn icon-btn remove fn-remove">ÏÇ≠Ï†ú</button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Í∑ºÌÉú ÏÇ¨Ïú†</th>
                            <td colspan="3">
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary close-btn fn-modal-close">Ï†ÄÏû•</button>
            <button class="btn btn-normal close-btn fn-modal-close">Îã´Í∏∞</button>
        </div>
    </div>
</div>

<!-- Ï∑®ÏÜåÏã†Ï≤≠ Î™®Îã¨ÌåùÏóÖ -->
<div class="modal " id="modal3">
    <div class="modal-content" style="width: 880px;">
        <div class="modal-header">
            <h2>Ï∑®ÏÜåÏã†Ï≤≠</h2>
        </div>
        <div class="modal-body">
            <div class="form-table type1">
                <table>
                    <colgroup>
                        <col style="width: 17%; ">
                        <col style="width: auto; ">
                    </colgroup>							
                    <tbody>
                        <tr>
                            <th scope="row">ÎåÄÏÉÅÏûê</th>
                            <td>
                                <input type="text" name="" placeholder="" value="" class="w100">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">Ï°∞ÌöåÍ∏∞Í∞Ñ</th>
                            <td colspan="3">
                                <div class="input-daterange input-group datepicker-wrap" id="datepicker">
                                    <input type="text" class="input-sm form-control" name="start" />
                                    <span class="input-group-addon">~</span>
                                    <input type="text" class="input-sm form-control" name="end" />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-table type1">
                <div class="ttl">Î≥ÄÍ≤Ω Ï†Ñ Í∑ºÌÉú</div>
                <div id="cancelGrid" class="grid-wrap"></div>
            </div>            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary close-btn fn-modal-close">Ï†ÄÏû•</button>
            <button class="btn btn-normal close-btn fn-modal-close">Îã´Í∏∞</button>
        </div>
    </div>
</div>
<script>
  $(document).ready(function () {

    /** -------------------------
     *  Í≥µÌÜµ Ìï®Ïàò
     * ------------------------- */
    function wrapCell(content) {
        return gridjs.html(`<div class="cell-wrapper">${content ?? ""}</div>`);
    }
    function renderCheckbox() {
        return wrapCell('<input type="checkbox" class="row-check" />');
    }
    function renderDetailLink(cell, index) {
        const detailUrl = `/attendance-detail.html?id=${index + 1}`;
        return wrapCell(`<a href="${detailUrl}" class="detail-link" target="_blank">${cell}</a>`);
    }
    function renderFileIcon(hasFile) {
        return wrapCell(hasFile ? '<span class="file-icon">üìé</span>' : "");
    }
    // Í≥µÌÜµ Ï≤¥ÌÅ¨Î∞ïÏä§ formatter
    function renderCheckbox(rowIndex = 0, checkedIndex = null, group = "default") {
    const checkedAttr = checkedIndex === rowIndex ? "checked" : "";
    return gridjs.html(`
        <div class="cell-wrapper">
        <input type="checkbox" class="row-check custom-check" data-group="${group}" ${checkedAttr} />
        </div>
    `);
    }

    /** -------------------------
     *  Ïã†Ï≤≠ÎÇ¥Ïó≠ Grid
     * ------------------------- */
    let workGridData = [
        ["", "Ïã†Í∑ú", "Ïó∞Ï∞®", "2025.10.13", "2025.10.13", "14:00", "14:00", "16ÏãúÍ∞Ñ", false, "Í∞úÏù∏ÏÇ¨Ï†ï"],
        ["", "Î≥ÄÍ≤ΩÌõÑ", "Ïó∞Ï∞®(Ïò§ÌõÑ)", "2025.10.13", "2025.10.13", "14:00", "18:00", "4ÏãúÍ∞Ñ", true, "Í∞úÏù∏ÏÇ¨Ï†ï"],
        ["", "Î≥ÄÍ≤ΩÏ†Ñ", "Ïó∞Ï∞®(Ïò§Ï†Ñ)", "2025.10.13", "2025.10.13", "09:00", "14:00", "4ÏãúÍ∞Ñ", false, "Í∞úÏù∏ÏÇ¨Ï†ï"],
        ["", "Ï∑®ÏÜå", "Í≤ΩÏ°∞Ìú¥Í∞Ä(Î≥∏Ïù∏/Î∞∞Ïö∞Ïûê Ïô∏Ï°∞Î∂ÄÎ™®ÏÉÅ)", "2025.10.13", "2025.10.15", "14:00", "14:00", "3Ïùº", true, "Í∞úÏù∏ÏÇ¨Ï†ï"]
    ];

    const workGrid = new gridjs.Grid({
      columns: [
        {
          id: "select",
          name: gridjs.html('<input type="checkbox" id="checkAll" class="custom-check" />'),
          formatter: renderCheckbox,
          sort: false,
          width: "50px"
        },
        { name: "Íµ¨Î∂Ñ", formatter: (cell) => wrapCell(cell) },
        { name: "Í∑ºÌÉúÏú†Ìòï", formatter: (cell, row, index) => renderDetailLink(cell, index), attributes: { style: "text-align: left; width:300px;" } },
        { name: "ÏãúÏûëÏùº", formatter: wrapCell },
        { name: "Ï¢ÖÎ£åÏùº", formatter: wrapCell },
        { name: "ÏãúÏûëÏãúÍ∞Ñ", formatter: wrapCell },
        { name: "Ï¢ÖÎ£åÏãúÍ∞Ñ", formatter: wrapCell },
        { name: "Ïùº/ÏãúÍ∞Ñ", formatter: wrapCell },
        { name: "Ï≤®Î∂ÄÌååÏùº", formatter: (cell) => renderFileIcon(cell) },
        { name: "Í∑ºÌÉúÏÇ¨Ïú†", formatter: wrapCell }
        ],
        data: workGridData,
        sort: false,
        search: false,
        pagination: false,
    }).render(document.getElementById("workGrid"));

    // Ï≤¥ÌÅ¨Î∞ïÏä§ ÌÜ†Í∏Ä
    $(document).on("change", "#checkAll", function () {
        $(".row-check").prop("checked", $(this).prop("checked"));
    });
    $(document).on("change", ".row-check", function () {
        const total = $(".row-check").length;
        const checked = $(".row-check:checked").length;
        $("#checkAll").prop("checked", total > 0 && total === checked);
    });

    /** -------------------------
     *  Í≤∞Ïû¨ÎùºÏù∏ Grid
     * ------------------------- */
    let approvalData = [
        ["1", "002569", "ÌôçÍ∏∏Îèô", "Í≥ºÏû•", "Ï†ïÎ≥¥ÏãúÏä§ÌÖúÎ∂Ä"],
        ["2", "002569", "ÌôçÍ∏∏Îèô", "Ï∞®Ïû•", "Ï†ïÎ≥¥ÏãúÏä§ÌÖúÎ∂Ä"],
        ["3", "002569", "ÌôçÍ∏∏Îèô", "ÌåÄÏû•", "Ï†ïÎ≥¥ÏãúÏä§ÌÖúÎ∂Ä"]
    ];

    new gridjs.Grid({
      columns: [
        { name: "No.", sort: false, formatter: (cell) => wrapCell(cell), width: "60px" },
        { name: "ÏÇ¨Î≤à", sort: false, formatter: (cell) => wrapCell(cell) },
        { name: "ÏÑ±Î™Ö", sort: false, formatter: (cell) => wrapCell(cell) },
        { name: "ÏßÅÏúÑ", sort: false, formatter: (cell) => wrapCell(cell) },
        { name: "Î∂ÄÏÑú", sort: false, formatter: (cell) => wrapCell(cell) }
        ],
        data: approvalData,
        sort: false,
        search: false,
        pagination: false
    }).render(document.getElementById("approvalGrid"));


    /** -------------------------
   *  Í≥µÌÜµ wrap Ìï®Ïàò
   * ------------------------- */
    function wrapCell(content) {
        return gridjs.html(`<div class="cell-wrapper">${content ?? ""}</div>`);
    }

    /** -------------------------
   *  Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞
   * ------------------------- */
    let modalGridData = [
        ["Ïó∞Ï∞®", "2025.10.13", "2025.10.13", "14:00", "14:00", "16ÏãúÍ∞Ñ"],
        ["Ïó∞Ï∞®(Ïò§ÌõÑ)", "2025.10.13", "2025.10.13", "14:00", "18:00", "4ÏãúÍ∞Ñ"],
        ["Ïó∞Ï∞®(Ïò§Ï†Ñ)", "2025.10.13", "2025.10.13", "09:00", "14:00", "4ÏãúÍ∞Ñ"],
        ["Í≤ΩÏ°∞Ìú¥Í∞Ä(Î≥∏Ïù∏/Î∞∞Ïö∞ÏûêÏùò Ï°∞Î∂ÄÎ™® Ïô∏Ï°∞Î∂ÄÎ™®ÏÉÅ)", "2025.10.13", "2025.10.15", "14:00", "14:00", "3Ïùº"]
    ];

    // Ï≤¥ÌÅ¨Î∞ïÏä§ Ïª¨ÎüºÏö© ÎçîÎØ∏ Í∞í Ï∂îÍ∞Ä
    const modalGridDataWithSelect = modalGridData.map(row => ["", ...row]);

    /** -------------------------
     *  Î™®Îã¨Î≥Ñ Grid Î†åÎçîÎßÅ
     * ------------------------- */
    $(".open-modal-btn").on("click", function () {
    const target = $(this).data("target");

    // Î≥ÄÍ≤ΩÏã†Ï≤≠ Î™®Îã¨ (modal2)
    if (target === "modal2" && !$("#workGrid2").hasClass("grid-initialized")) {
        new gridjs.Grid({
        columns: [
            {
            id: "select",
            name: gridjs.html('<input type="checkbox" id="checkAll2" class="custom-check" />'),
            formatter: (_, row) =>
            gridjs.html(`<div class="cell-wrapper">
                <input type="checkbox" class="row-check2 custom-check" ${row._index === 1 ? "checked" : ""}>
            </div>`),
            sort: false,
            width: "50px"
            },
            { name: "Í∑ºÌÉúÏú†Ìòï", formatter: (cell) => wrapCell(cell), attributes: { style: "text-align: left;" } },
            { name: "ÏãúÏûëÏùº",   formatter: (cell) => wrapCell(cell) },
            { name: "Ï¢ÖÎ£åÏùº",   formatter: (cell) => wrapCell(cell) },
            { name: "ÏãúÏûëÏãúÍ∞Ñ", formatter: (cell) => wrapCell(cell) },
            { name: "Ï¢ÖÎ£åÏãúÍ∞Ñ", formatter: (cell) => wrapCell(cell) },
            { name: "Ïùº/ÏãúÍ∞Ñ",   formatter: (cell) => wrapCell(cell) }
            ],
            data: modalGridDataWithSelect,
            sort: false,
            search: false,
            pagination: false
        }).render(document.getElementById("workGrid2"));
        $("#workGrid2").addClass("grid-initialized");
    }

    // Ï∑®ÏÜåÏã†Ï≤≠ Î™®Îã¨ (modal3)
    if (target === "modal3" && !$("#cancelGrid").hasClass("grid-initialized")) {
        new gridjs.Grid({
            columns: [
            {
                id: "select",
                name: gridjs.html('<input type="checkbox" id="checkAll3" class="custom-check" />'),
                formatter: (_, row) =>
                gridjs.html(`<div class="cell-wrapper">
                    <input type="checkbox" class="row-check3 custom-check" ${row._index === 1 ? "checked" : ""}>
                </div>`),
                sort: false,
                width: "50px"
            },
            { name: "Í∑ºÌÉúÏú†Ìòï", formatter: (cell) => wrapCell(cell), attributes: { style: "text-align: left;" } },
            { name: "ÏãúÏûëÏùº",   formatter: (cell) => wrapCell(cell) },
            { name: "Ï¢ÖÎ£åÏùº",   formatter: (cell) => wrapCell(cell) },
            { name: "ÏãúÏûëÏãúÍ∞Ñ", formatter: (cell) => wrapCell(cell) },
            { name: "Ï¢ÖÎ£åÏãúÍ∞Ñ", formatter: (cell) => wrapCell(cell) },
            { name: "Ïùº/ÏãúÍ∞Ñ",   formatter: (cell) => wrapCell(cell) }
            ],
            data: modalGridDataWithSelect,
            sort: false,
            search: false,
            pagination: false
        }).render(document.getElementById("cancelGrid"));
            $("#cancelGrid").addClass("grid-initialized");
        }
    });

    /** -------------------------
     * Í≥µÌÜµ Ï†ÑÏ≤¥ Ï≤¥ÌÅ¨Î∞ïÏä§ ÌÜ†Í∏Ä
     * ------------------------- */
    $(document).on("change", "[id^='checkAll']", function () {
        const suffix = this.id.replace("checkAll", "");
        const checked = $(this).prop("checked");
        $(`.row-check${suffix}`).prop("checked", checked);
    });

    $(document).on("change", "[class^='row-check']", function () {
        // Ïòà: row-check3 ‚Üí 3 Ï∂îÏ∂ú
        const className = $(this).attr("class").split(" ").find(c => c.startsWith("row-check"));
        const suffix = className.replace("row-check", "");
        const total = $(`.row-check${suffix}`).length;
        const checked = $(`.row-check${suffix}:checked`).length;
        $(`#checkAll${suffix}`).prop("checked", total > 0 && total === checked);
    });

    // ‚úÖ ÏÑ†ÌÉùÎêú Ìñâ ÏÇ≠Ï†ú (ÌéòÏù¥ÎìúÏïÑÏõÉ Ìè¨Ìï®)
    $(document).on("click", ".fn-row-remove", function () {
        const checkedIndexes = [];

        // Ï≤¥ÌÅ¨Îêú ÌñâÏùò Ïù∏Îç±Ïä§ ÏàòÏßë
        $("#workGrid table tbody tr").each(function (index) {
            if ($(this).find(".row-check").prop("checked")) {
            checkedIndexes.push(index);
            }
        });

        if (checkedIndexes.length === 0) {
            alert("ÏÇ≠Ï†úÌï† Ìï≠Î™©ÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.");
            return;
        }

        // ÏÑ†ÌÉùÎêú ÌñâÏóê fade-out ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
        $("#workGrid table tbody tr").each(function (index) {
            if (checkedIndexes.includes(index)) {
            $(this).addClass("fade-out");
            }
        });

        // Ïï†ÎãàÎ©îÏù¥ÏÖò ÌõÑ Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú Î∞è Í∑∏Î¶¨Îìú Í∞±Ïã†
        setTimeout(() => {
            workGridData = workGridData.filter((_, i) => !checkedIndexes.includes(i));
            workGrid.updateConfig({ data: [...workGridData] }).forceRender();
            $("#checkAll").prop("checked", false);
        }, 300);
    });

    // Î™®Îã¨ Ïó¥Î¶¥ Îïå Ìï¥Îãπ Î™®Îã¨Ïùò Í∑∏Î¶¨Îìú Î†åÎçîÎßÅ
    $(document).on("click", ".fn-modal-open", function () {
        const targetId = $(this).data("target");
        renderModalGrid(targetId);
    });

});

$(document).ready(function() {
    // 1. Í∏∞Î≥∏ Select2
    $('.fn-select').select2({
        placeholder: 'ÏÑ†ÌÉùÌïòÏÑ∏Ïöî',
        allowClear: true
    });
    
    // ÏÑ†ÌÉù Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
    $('.js-basic-single, .js-grouped, .js-no-search').on('change', function() {
        console.log('ÏÑ†ÌÉùÎêú Í∞í:', $(this).val());
    });
    
    $('.js-multiple, .js-tags').on('change', function() {
        console.log('ÏÑ†ÌÉùÎêú Í∞íÎì§:', $(this).val());
    });
});

// Îã®Ïùº ÏÑ†ÌÉùÍ∞í Ï°∞Ìöå
function getValue(selectId) {
    const value = $('#' + selectId).val();
    const text = $('#' + selectId + ' option:selected').text();
    const resultBox = $('#result' + selectId.replace('select', ''));
    
    if (value) {
        resultBox.html(
            '<h4>‚úÖ ÏÑ†ÌÉùÎêú Í∞í:</h4>' +
            '<p><strong>Value:</strong> ' + value + '</p>' +
            '<p><strong>Text:</strong> ' + text + '</p>'
        );
        resultBox.addClass('show');
    } else {
        alert('ÏÑ†ÌÉùÎêú Ìï≠Î™©Ïù¥ ÏóÜÏäµÎãàÎã§.');
        resultBox.removeClass('show');
    }
}

// Select Ï¥àÍ∏∞Ìôî
function resetSelect(selectId) {
    $('#' + selectId).val(null).trigger('change');
    $('#result' + selectId.replace('select', '')).removeClass('show');
    alert('Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.');
}

// ÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏúºÎ°ú Í∞í ÏÑ§Ï†ï
function setValueProgrammatically(selectId, value) {
    $('#' + selectId).val(value).trigger('change');
    alert('Í∞íÏù¥ ÏÑ§Ï†ïÎêòÏóàÏäµÎãàÎã§: ' + value);
}
</script>

</body>
</html>